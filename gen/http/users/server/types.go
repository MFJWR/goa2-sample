// Code generated by goa v2.0.0-wip, DO NOT EDIT.
//
// Users HTTP server types
//
// Command:
// $ goa gen github.com/tonouchi510/goa2-sample/design

package server

import (
	"unicode/utf8"

	users "github.com/tonouchi510/goa2-sample/gen/users"
	usersviews "github.com/tonouchi510/goa2-sample/gen/users/views"
	goa "goa.design/goa"
)

// CreateUserRequestBody is the type of the "Users" service "create user"
// endpoint HTTP request body.
type CreateUserRequestBody struct {
	// User id
	ID *string `form:"id,omitempty" json:"id,omitempty" xml:"id,omitempty"`
	// Name of user
	Name *string `form:"name,omitempty" json:"name,omitempty" xml:"name,omitempty"`
	// Email of user
	Email *string `form:"email,omitempty" json:"email,omitempty" xml:"email,omitempty"`
}

// UpdateUserRequestBody is the type of the "Users" service "update user"
// endpoint HTTP request body.
type UpdateUserRequestBody struct {
	// Name of user
	Name *string `form:"name,omitempty" json:"name,omitempty" xml:"name,omitempty"`
	// Email of user
	Email *string `form:"email,omitempty" json:"email,omitempty" xml:"email,omitempty"`
}

// Goa2SampleUserResponseCollection is the type of the "Users" service "list
// user" endpoint HTTP response body.
type Goa2SampleUserResponseCollection []*Goa2SampleUserResponse

// GetUserResponseBody is the type of the "Users" service "get user" endpoint
// HTTP response body.
type GetUserResponseBody struct {
	// User id
	ID string `form:"id" json:"id" xml:"id"`
	// Name of user
	Name string `form:"name" json:"name" xml:"name"`
	// Email of user
	Email string `form:"email" json:"email" xml:"email"`
}

// UpdateUserResponseBody is the type of the "Users" service "update user"
// endpoint HTTP response body.
type UpdateUserResponseBody struct {
	// User id
	ID string `form:"id" json:"id" xml:"id"`
	// Name of user
	Name string `form:"name" json:"name" xml:"name"`
	// Email of user
	Email string `form:"email" json:"email" xml:"email"`
}

// Goa2SampleUserResponse is used to define fields on response body types.
type Goa2SampleUserResponse struct {
	// User id
	ID string `form:"id" json:"id" xml:"id"`
	// Name of user
	Name string `form:"name" json:"name" xml:"name"`
	// Email of user
	Email string `form:"email" json:"email" xml:"email"`
}

// NewGoa2SampleUserResponseCollection builds the HTTP response body from the
// result of the "list user" endpoint of the "Users" service.
func NewGoa2SampleUserResponseCollection(res usersviews.Goa2SampleUserCollectionView) Goa2SampleUserResponseCollection {
	body := make([]*Goa2SampleUserResponse, len(res))
	for i, val := range res {
		body[i] = &Goa2SampleUserResponse{
			ID:    *val.ID,
			Name:  *val.Name,
			Email: *val.Email,
		}
	}
	return body
}

// NewGetUserResponseBody builds the HTTP response body from the result of the
// "get user" endpoint of the "Users" service.
func NewGetUserResponseBody(res *usersviews.Goa2SampleUserView) *GetUserResponseBody {
	body := &GetUserResponseBody{
		ID:    *res.ID,
		Name:  *res.Name,
		Email: *res.Email,
	}
	return body
}

// NewUpdateUserResponseBody builds the HTTP response body from the result of
// the "update user" endpoint of the "Users" service.
func NewUpdateUserResponseBody(res *usersviews.Goa2SampleUserView) *UpdateUserResponseBody {
	body := &UpdateUserResponseBody{
		ID:    *res.ID,
		Name:  *res.Name,
		Email: *res.Email,
	}
	return body
}

// NewGetUserPayload builds a Users service get user endpoint payload.
func NewGetUserPayload(id string) *users.GetUserPayload {
	return &users.GetUserPayload{
		ID: id,
	}
}

// NewCreateUserPayload builds a Users service create user endpoint payload.
func NewCreateUserPayload(body *CreateUserRequestBody) *users.CreateUserPayload {
	v := &users.CreateUserPayload{
		ID:    *body.ID,
		Name:  *body.Name,
		Email: *body.Email,
	}
	return v
}

// NewUpdateUserPayload builds a Users service update user endpoint payload.
func NewUpdateUserPayload(body *UpdateUserRequestBody, id string) *users.UpdateUserPayload {
	v := &users.UpdateUserPayload{
		Name:  body.Name,
		Email: body.Email,
	}
	v.ID = id
	return v
}

// NewDeleteUserPayload builds a Users service delete user endpoint payload.
func NewDeleteUserPayload(id string) *users.DeleteUserPayload {
	return &users.DeleteUserPayload{
		ID: id,
	}
}

// ValidateCreateUserRequestBody runs the validations defined on Create
// UserRequestBody
func ValidateCreateUserRequestBody(body *CreateUserRequestBody) (err error) {
	if body.ID == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("id", "body"))
	}
	if body.Name == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("name", "body"))
	}
	if body.Email == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("email", "body"))
	}
	if body.ID != nil {
		if utf8.RuneCountInString(*body.ID) < 28 {
			err = goa.MergeErrors(err, goa.InvalidLengthError("body.id", *body.ID, utf8.RuneCountInString(*body.ID), 28, true))
		}
	}
	if body.ID != nil {
		if utf8.RuneCountInString(*body.ID) > 28 {
			err = goa.MergeErrors(err, goa.InvalidLengthError("body.id", *body.ID, utf8.RuneCountInString(*body.ID), 28, false))
		}
	}
	return
}

// ValidateGoa2SampleUserResponse runs the validations defined on
// Goa2-SampleUserResponse
func ValidateGoa2SampleUserResponse(body *Goa2SampleUserResponse) (err error) {
	if utf8.RuneCountInString(body.ID) < 28 {
		err = goa.MergeErrors(err, goa.InvalidLengthError("body.id", body.ID, utf8.RuneCountInString(body.ID), 28, true))
	}
	if utf8.RuneCountInString(body.ID) > 28 {
		err = goa.MergeErrors(err, goa.InvalidLengthError("body.id", body.ID, utf8.RuneCountInString(body.ID), 28, false))
	}
	return
}
